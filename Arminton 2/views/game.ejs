<h2>Mapa</h2>
  <button onclick="location.href='/map'">Ir al Mapa ğŸ—ºï¸</button>
<% if (character) { %>

    <div class="card p-3 mb-3">
        <h2 class="card-title">Personaje: <%= character.name %></h2>
        <img src="/images/<%= character.tipoArma %>.png" class="img-fluid mb-3" alt="Imagen del arma">
        <p id="energyLevel" class="lead">NÃºmero de balas: <%= character.energyLevel %> âš¡ï¸</p>
        <div class="d-flex gap-2">
            <button class="btn btn-success" onclick="updateEnergy('feed')">Recargar â™»ï¸</button>
            <button class="btn btn-warning" onclick="updateEnergy('play')">Disparar ğŸ˜Š</button>
        </div>
    </div>

    <script>
        function updateEnergy(action) {
            fetch('/game/update', {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ action: action })
            })
            .then(response => response.json())
            .then(data => {
                // Actualizar el nivel de energÃ­a en la interfaz
                document.getElementById('energyLevel').innerText = 'NÃºmero de balas: ' + data.energyLevel + ' âš¡ï¸';
            })
            .catch(error => console.error('Error al actualizar:', error));
        }
    </script>

<% } else { %>
    <p>No hay ningÃºn Arma seleccionada.</p>
    <a href="/characters">Seleccionar Arma</a>
<% } %>